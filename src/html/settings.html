<md-toolbar>
  <nav class="md-toolbar-tools">
    <md-button
      class="md-icon-button"
      ng-click="toggleSideNav()"
      aria-label="Toggle left menu"
      hide-gt-sm
    >
      <md-icon md-svg-icon="menu"></md-icon>
    </md-button>
    <h1>Settings</h1>
  </nav>
</md-toolbar>

<md-subheader class="md-display-2"> Additional operations </md-subheader>

<md-divider></md-divider>

<md-content class="md-padding">
  <!-- Notification zone -->
  <md-card flex="100" flex-offset-gt-md="15" flex-gt-md="70">
    <md-card-header class="md-primary">
      <md-card-avatar>
        <md-icon md-svg-icon="bell-ring-outline"></md-icon>
      </md-card-avatar>
      <md-card-header-text class="md-title-only" layout-align="center start">
        <h2 class="md-title">Notification</h2>
      </md-card-header-text>
    </md-card-header>
    <md-card-content>
      <md-list>
        <md-list-item class="md-2-line">
          <div class="md-list-item-text">
            <h3>Enable "New version" toast</h3>
            <p>
              In case you worry about extension changes, a tab is opened on each
              new version with a link to the changelog.
            </p>
          </div>

          <md-switch
            class="md-accent md-secondary"
            ng-model="tab_modifier.settings.enable_new_version_notification"
            aria-label="Enable toast"
            ng-change="tab_modifier.sync()"
          ></md-switch>
        </md-list-item>
      </md-list>
    </md-card-content>
  </md-card>

  <!-- Backup zone -->
  <md-card flex="100" flex-offset-gt-md="15" flex-gt-md="70">
    <md-card-header class="md-primary">
      <md-card-avatar>
        <md-icon md-svg-icon="backup-restore"></md-icon>
      </md-card-avatar>
      <md-card-header-text class="md-title-only" layout-align="center start">
        <h2 class="md-title">Backup</h2>
      </md-card-header-text>
    </md-card-header>
    <md-card-content>
      <md-list>
        <md-list-item class="md-2-line md-no-proxy">
          <div class="md-list-item-text">
            <h3>Import tab rules</h3>
            <p>Restore your tab rules settings from an external JSON file.</p>
          </div>

          <div class="md-secondary">
            <md-button
              class="md-primary md-raised"
              ng-click="showImportDialog($event)"
              ga-track-event="['tab-rules', 'import']"
            >
              <md-icon md-svg-icon="file-import"></md-icon>
              Import tab rules
            </md-button>
          </div>
        </md-list-item>

        <md-divider></md-divider>

        <md-list-item class="md-2-line">
          <div class="md-list-item-text">
            <h3>Export tab rules</h3>
            <p>
              Export your tab rules for backup purpose or for sharing with
              friend.
            </p>
          </div>

          <md-button
            class="md-primary md-secondary md-raised"
            ng-href="{{ json_url }}"
            download="tab_modifier.json"
            arial-label="Export tab rules"
            ga-track-event="['tab-rules', 'export']"
          >
            <md-icon md-svg-icon="file-export"></md-icon>
            Export tab rules
          </md-button>
        </md-list-item>
      </md-list>
    </md-card-content>
  </md-card>

  <!-- Danger zone -->
  <md-card flex="100" flex-offset-gt-md="15" flex-gt-md="70">
    <md-card-header class="md-warn">
      <md-card-avatar>
        <md-icon md-svg-icon="alert"></md-icon>
      </md-card-avatar>
      <md-card-header-text class="md-title-only" layout-align="center start">
        <h2 class="md-title">Danger</h2>
      </md-card-header-text>
    </md-card-header>
    <md-card-content>
      <md-list>
        <md-list-item class="md-2-line">
          <div class="md-list-item-text">
            <h3>Delete all tab rules</h3>
            <p>Erase all of your tab rules.</p>
          </div>

          <md-button
            class="md-warn md-secondary md-raised"
            ng-click="deleteRules($event)"
            ng-disabled="tab_modifier.rules.length === 0"
          >
            <md-icon md-svg-icon="delete"></md-icon>
            Delete all
          </md-button>
        </md-list-item>
      </md-list>
    </md-card-content>
  </md-card>
</md-content>
